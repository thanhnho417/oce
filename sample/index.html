<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>img tes</title>
    <style>
      *{margin: 0; padding: 0; box-sizing: border-box;}
      .img-preview {transition: all 0.1s ease; visibility: hidden; opacity: 0; position: fixed; top: 50px; left: 50px; right: 50px; bottom: 50px; background-color: rgb(34, 34, 34);}
      .bar{position: sticky; top: 0; width: 100%; padding: 1px 0; background-color: #34695d; display: flex; justify-content: space-between; align-items: center;}
      #img-title{color: #ffff; margin-left: 15px;}
      .img-preview.active {visibility: visible; opacity: 1; transition: all 0.1s linear;}
      .close{margin-right: 10px; width: 60px; height: 40px; display: flex; justify-content: center; align-items: center; cursor: pointer; transition: 0.1s all linear;}
      .close:hover{background-color: rgb(211, 6, 6);}
      .close > svg{width: 80%; margin: 0 auto;}
      .img-preview .pre{display: flex; justify-content: center; align-items: center; width: 100%; height: calc(100% - 50px); object-fit: contain; padding: 10px;}
      .pre >img {margin: 0 auto; max-width: 100%; max-height: 100%; object-fit: contain;}
    </style>
  </head>
  <body>
    <img src="Phan-tich-Thuong-nho-mua-xuan.jpg" alt="" width="300px">
    <div class="img-preview">
      <div class="bar">
        <div class="title">
          <p id="img-title" style="font-family: Quicksand; font-weight: bold;">Không có tiêu đề</p>
        </div>
        <div class="close">
          <svg xmlns="http://www.w3.org/2000/svg" height="22px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>
        </div>
      </div>
      <div class="pre">
        <img id="img-pre" src="" alt="">
      </div>
    </div>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const imgview = document.querySelector('.img-preview');
        const imgpre = document.querySelector('#img-pre');
        const close = document.querySelector('.close');
        const imgtitle = document.querySelector('#img-title');
        document.addEventListener('click', function(e) {
          if (e.target.tagName === 'IMG') {
            const img = e.target;
            if (!img.closest('.img-preview')) {
              imgpre.src = img.src;
              imgtitle.innerText = img.src.split('/').pop();
              imgview.classList.add('active');
            }
          }
        });

        close.addEventListener('click', function() {
          imgview.classList.remove('active');
        });

        imgview.addEventListener('click', function(e) {
          if (e.target === this) {
            this.classList.remove('active');
          }
        });
        document.addEventListener('keydown', function(e) {
          if (e.key === 'Escape' && imgview.classList.contains('active')) {
            imgview.classList.remove('active');
          }
        });
      });
    </script>
  </body>
</html>